# ============================================================================
# Environment Configuration
# ============================================================================
# This file shows all available environment variables with their default values.
# Copy this file to .env and modify as needed for your environment.
#
# IMPORTANT: Never commit .env file to version control!
# ============================================================================

# ===== Application Environment =====
# Options: development, test, staging, production
# Default: development
DENO_ENV=development

# ===== Server Configuration =====
# Fresh server port (1-65535)
# Default: 3000
PORT=3000

# API base URL (must be valid URL)
# Default: http://localhost:3000/api
API_URL=http://localhost:3000/api

# Frontend base URL (must be valid URL)
# Default: http://localhost:3000
FRONTEND_URL=http://localhost:3000

# ===== CORS Configuration =====
# Allowed origins for CORS requests (comma-separated for multiple)
# Default: http://localhost:3000
CORS_ORIGIN=http://localhost:3000

# ===== Database Configuration =====
# Deno KV (recommended - no configuration needed for local development)
# KV uses local file storage by default. On Deno Deploy, it's automatically distributed at the edge.
# For custom KV path (optional):
# DENO_KV_PATH=./data/kv.db

# PostgreSQL (only if Deno KV limitations are reached)
# Uncomment below if you need complex JOINs, aggregations, or existing PostgreSQL infrastructure
# DATABASE_URL=postgresql://user:password@localhost:5432/mydb
# DB_POOL_SIZE=20

# ===== Authentication =====
# REQUIRED for authentication features
# JWT secret must be at least 32 characters for security
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars

# JWT token expiration time (format: 1d, 7d, 24h, 1w)
# Default: 15m (access token), 30d (refresh token)
JWT_EXPIRES_IN=2h
JWT_REFRESH_EXPIRES_IN=30d

# Development: Customize first-run admin credentials (optional)
# On first run in development mode, these credentials are used to create the initial admin
# If not set, defaults to admin@dev.local / admin123
# DEV_ADMIN_EMAIL=admin@dev.local
# DEV_ADMIN_PASSWORD=admin123
# DEV_ADMIN_NAME=Dev Admin

# Production: Auto-promote user to admin on first signup
# Set this to the email address that should become admin on first login
# Remove this variable after the admin account is created for security
# INITIAL_ADMIN_EMAIL=your-email@company.com

# ===== Email Configuration =====
# Resend email service API key (get from https://resend.com)
# REQUIRED for email verification and transactional emails
# RESEND_API_KEY=re_...

# Email sender address (must be verified in Resend)
# Default: noreply@yourdomain.com
# EMAIL_FROM=noreply@yourdomain.com

# Require email verification before full access
# Default: false (recommended for development)
# REQUIRE_EMAIL_VERIFICATION=false

# ===== Third-Party API Keys =====
# Stripe payment processing (must start with sk_)
# STRIPE_SECRET_KEY=sk_test_...

# SendGrid email service (must start with SG.)
# SENDGRID_API_KEY=SG....

# AWS services
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=

# ===== File Storage Configuration =====
# Storage backend type (local or s3)
# Default: local
STORAGE_TYPE=local

# Local storage path (only used when STORAGE_TYPE=local)
# Default: ./uploads
STORAGE_PATH=./uploads

# S3-compatible storage (AWS S3, Cloudflare R2, MinIO)
# Only required when STORAGE_TYPE=s3
# S3_ENDPOINT=https://your-account.r2.cloudflarestorage.com
# S3_REGION=auto
# S3_BUCKET=your-bucket-name
# S3_ACCESS_KEY_ID=your-s3-access-key
# S3_SECRET_ACCESS_KEY=your-s3-secret-key
# S3_PUBLIC_URL=https://your-custom-domain.com

# ===== Feature Flags =====
# Enable analytics tracking (true/false)
# Default: false
# ENABLE_ANALYTICS=false

# Enable debug mode with verbose logging (true/false)
# Default: false
# ENABLE_DEBUG_MODE=false

# ===== Deno Deploy Configuration =====
# Get your project name from: https://dash.deno.com/projects
# DENO_DEPLOY_PROJECT=your-project-name

# IMPORTANT: Set DENO_DEPLOY_TOKEN as a GitHub secret for CI/CD deployment
# Never put this in .env file!
# DENO_DEPLOY_TOKEN=

# ============================================================================
# Notes:
# ============================================================================
# Architecture: Fresh 1.7.3 (Pure SSR + Islands)
# - Single server at http://localhost:3000
# - API routes at /api/* (Fresh handlers)
# - Pages and islands for UI
# - Background services (queue + scheduler)
#
# All environment variables are accessed via Deno.env.get() at runtime.
# No validation schema - simpler and more flexible approach.
#
# Required variables for features:
# - JWT_SECRET: Required for authentication (min 32 chars)
# - RESEND_API_KEY: Required for email features (get from https://resend.com)
# - STRIPE_SECRET_KEY: Required for payment features (must start with sk_)
# - AWS credentials: Required for AWS features
#
# Optional but recommended:
# - PORT: Server port (default: 3000)
# - API_URL: API base URL (default: http://localhost:3000/api)
# - FRONTEND_URL: Frontend URL (default: http://localhost:3000)
# ============================================================================
